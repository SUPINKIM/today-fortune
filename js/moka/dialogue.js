// 모카 캐릭터 대사 데이터
// 심야 카페 바리스타 모카 - 차분하고 위로가 되는 말투

export const MOKA_DIALOGUES = {
  // 입장 인사 (시간대별)
  greeting: {
    night: [ // 21:00 ~ 05:59
      "어서오세요. 오늘도 잠이 안 오시나요?",
      "밤이 깊었네요. 자리 앉으세요.",
      "이 시간에 오시다니... 무슨 고민 있으세요?",
      "어서오세요. 조용한 밤이에요.",
      "또 오셨네요. 오늘은 어떤 카드가 기다리고 있을까요.",
    ],
    morning: [ // 06:00 ~ 11:59
      "좋은 아침이에요. 일찍 오셨네요.",
      "아침 햇살이 좋은 날이에요. 어서 앉으세요.",
      "모닝 커피 한 잔 하실래요?",
      "오늘 하루의 시작, 카드 한 장 어떠세요?",
    ],
    afternoon: [ // 12:00 ~ 17:59
      "어서오세요. 점심은 드셨어요?",
      "나른한 오후네요. 잠시 쉬어가세요.",
      "오후의 휴식 시간이에요. 천천히 둘러보세요.",
      "반가워요. 오늘 하루 어떠세요?",
    ],
    evening: [ // 18:00 ~ 20:59
      "어서오세요. 하루 마무리하러 오셨나요?",
      "저녁이에요. 수고한 하루였죠?",
      "해가 지고 있어요. 잠시 쉬어가세요.",
      "오늘 하루도 고생했어요. 카드 한 장 뽑아볼래요?",
    ]
  },

  // 카드 뽑기 유도
  promptDraw: [
    "카드 한 장 뽑아보실래요?",
    "오늘의 카드가 당신을 기다리고 있어요.",
    "어떤 카드가 나올지... 저도 궁금하네요.",
    "천천히 마음이 가는 카드를 골라보세요.",
    "카드가 당신에게 해줄 말이 있나 봐요.",
    "자, 오늘의 운명을 확인해볼까요?",
  ],

  // 카드 선택 후 (뒤집기 전)
  cardSelected: [
    "그 카드를 선택했군요... 뒤집어볼까요?",
    "음, 그 카드... 느낌이 좋아요.",
    "카드를 뒤집으면 오늘의 메시지가 나와요.",
    "좋아요. 어디 한번 볼까요.",
    "그 카드가 끌렸군요. 이유가 있을 거예요.",
  ],

  // 카드 뒤집은 후 - 등급별 반응
  cardRevealed: {
    common: [
      "음... 이 카드가 나왔군요. 평범해 보이지만, 사실 이런 카드일수록 지금 당신에게 꼭 필요한 메시지를 담고 있어요.",
      "이 카드... 조용하지만 단단한 에너지가 느껴져요. 오늘 하루, 무리하지 않아도 괜찮다는 뜻이에요.",
      "특별하진 않아도, 이 카드가 당신을 선택한 데는 이유가 있어요. 천천히 읽어보세요.",
      "소박한 카드네요. 하지만 가장 평범한 순간에 가장 큰 진실이 숨어있는 법이에요.",
      "이 카드는 자주 나오지만, 매번 다른 의미를 가져요. 오늘의 당신에겐 어떤 의미일까요?",
    ],
    rare: [
      "어... 이 카드는 아무에게나 나오지 않아요. 오늘 당신에게 뭔가 특별한 일이 생길지도 몰라요.",
      "이 카드가 나오다니. 솔직히 조금 놀랐어요. 당신 안에 뭔가 강한 에너지가 흐르고 있나 봐요.",
      "오랜만에 보는 카드예요. 이 카드를 받은 사람들은 보통... 중요한 전환점에 서 있더라고요.",
      "음, 이건 좋은 징조예요. 이 카드는 당신이 올바른 방향으로 가고 있다는 걸 알려주고 있어요.",
      "이 카드... 제가 좋아하는 카드 중 하나예요. 받는 사람의 용기를 북돋아주거든요.",
    ],
    epic: [
      "...잠깐만요. 이 카드는 정말 특별해요. 한 달에 몇 번 안 나오는 카드인데... 당신, 오늘 운이 아주 좋아요.",
      "이런 카드가 나오다니. 솔직히 저도 두근거려요. 이 카드는 큰 변화의 전조일 때가 많거든요.",
      "...와. 오래 일했지만 이 카드는 볼 때마다 놀라워요. 당신에게 전하고 싶은 말이 많은 카드예요.",
      "이 카드를 받는 사람은 특별한 사람이에요. 농담이 아니라 진심으로요. 오늘 하루를 소중히 보내세요.",
      "세상에... 이 카드가 나왔어요. 당신 안에 아직 발견하지 못한 가능성이 있다는 뜻이에요.",
    ],
    legendary: [
      "......잠깐. 이 카드는... 제가 3년 동안 일하면서 손에 꼽을 정도로 본 카드예요. 지금 심장이 빨리 뛰어요.",
      "...농담 아니에요. 이 카드를 마지막으로 본 게 언제인지 기억도 안 나요. 당신... 대체 누구세요?",
      "전설의 카드... 이 카드가 나올 줄은 몰랐어요. 오늘, 지금 이 순간을 꼭 기억해두세요.",
      "......커피 쏟을 뻔했어요. 이 카드는... 진짜 특별한 사람에게만 나와요. 당신은 그런 사람이에요.",
      "이 카드... 처음 봤을 때 저도 믿지 못했어요. 이건 운명이 당신에게 보내는 메시지예요.",
    ]
  },

  // 카드 해석 (등급별 추가 코멘트)
  cardComment: {
    common: [
      "오늘은 큰 욕심 내지 마세요. 그냥 흘러가는 대로 두는 게 좋아요. 가끔은 그게 최선일 때가 있어요.",
      "작은 행복에 집중해보세요. 따뜻한 커피 한 잔, 좋아하는 음악, 푹신한 이불... 그런 것들이요.",
      "무리하지 않아도 괜찮아요. 당신은 충분히 잘하고 있어요. 오늘은 자신에게 좀 더 너그러워져도 돼요.",
      "평범한 하루가 쌓여서 특별한 인생이 되는 거예요. 오늘도 그런 소중한 하루 중 하나예요.",
      "남들과 비교하지 마세요. 당신만의 속도가 있어요. 천천히 가도 괜찮아요, 어차피 도착은 해요.",
    ],
    rare: [
      "오늘은 평소에 안 하던 작은 도전을 해봐도 좋을 것 같아요. 새로운 카페를 가본다거나, 모르는 사람에게 먼저 인사한다거나요.",
      "누군가에게 연락이 올 수도 있어요. 혹은 당신이 먼저 연락해도 좋아요. 오늘의 인연은 특별할 거예요.",
      "마음속에 품고 있던 계획이 있다면, 오늘 첫 발을 떼어보세요. 타이밍이 좋아요.",
      "오늘 만나는 사람들의 말에 귀 기울여보세요. 예상치 못한 곳에서 힌트를 얻을 수 있어요.",
      "자신감을 가져도 좋아요. 오늘의 당신은 평소보다 조금 더 빛나고 있어요. 느껴지지 않아도 그래요.",
    ],
    epic: [
      "이 카드가 나온 날은... 꼭 기억해두세요. 나중에 되돌아보면, 오늘이 어떤 시작점이었다는 걸 알게 될 거예요.",
      "중요한 결정을 미루고 있었다면, 오늘이 좋은 날이에요. 당신의 직감을 믿어도 괜찮아요.",
      "우연의 일치가 많이 생길 거예요. 그냥 지나치지 마세요. 우연 속에 필연이 숨어있어요.",
      "오늘 만나는 사람, 듣는 이야기, 보는 것들... 평소보다 주의 깊게 살펴보세요. 중요한 신호가 있을 거예요.",
      "당신이 생각하는 것보다 당신은 훨씬 더 큰 일을 해낼 수 있어요. 이 카드가 그걸 말해주고 있어요.",
    ],
    legendary: [
      "...뭐라고 해야 할지 모르겠어요. 그냥 이 순간을 온전히 느껴보세요. 이런 카드는 평생 몇 번 안 나와요.",
      "농담처럼 들릴 수도 있지만... 진지하게 말할게요. 오늘 로또 사도 될 것 같아요. 아니, 사세요.",
      "당신에게 특별한 무언가가 있어요. 스스로는 모를 수도 있지만, 이 카드가 그걸 알아본 거예요.",
      "이 카드를 받은 사람들은... 나중에 다시 찾아와서 고마웠다고 말하더라고요. 좋은 일이 생길 거예요.",
      "전설의 카드예요. 당신의 운명이 특별한 방향으로 움직이고 있다는 뜻이에요. 두려워하지 마세요.",
    ]
  },

  // 공유 유도
  promptShare: [
    "이 카드, 친구한테 자랑해도 좋을 것 같아요.",
    "혼자 보기 아깝네요.",
    "누군가와 나누면 행운이 두 배가 될지도?",
    "SNS에 올리면 좋아요 많이 받을 것 같은데...",
  ],

  // 다시 뽑기
  drawAgain: [
    "또 뽑아볼래요? 커피는 무료 리필이에요.",
    "다른 카드도 궁금하세요?",
    "오늘 운이 좋은 것 같으니까, 한 번 더?",
    "아직 시간 있으시면... 천천히 더 뽑아보세요.",
  ],

  // 뽑기 횟수 소진
  noMoreDraws: [
    "오늘은 여기까지예요. 내일 또 오세요.",
    "카드도 쉬어야 해요. 내일 다시 만나요.",
    "너무 많이 보면 재미없어요. 내일 또 와요.",
    "오늘의 운명은 여기까지. 내일 새로운 카드가 기다릴 거예요.",
  ],

  // 이스터에그 - 연속 방문
  returnVisitor: [
    "어제도 오셨죠? 기억해요.",
    "자주 오시네요. 단골이시군요.",
    "오늘도 어김없이. 반가워요.",
  ],

  // 이스터에그 - 특별 시간대
  specialTime: {
    "00:00": "자정이에요. 새로운 하루가 시작됐네요.",
    "03:33": "3시 33분... 소원을 빌어보세요.",
    "11:11": "11시 11분이에요. 행운의 시간이죠.",
    "12:34": "1, 2, 3, 4... 뭔가 순조로울 것 같은 시간이에요.",
  }
};

// 시간대 판별
export function getTimeOfDay() {
  const hour = new Date().getHours();
  if (hour >= 6 && hour < 12) return 'morning';
  if (hour >= 12 && hour < 18) return 'afternoon';
  if (hour >= 18 && hour < 21) return 'evening';
  return 'night';
}

// 특별 시간 체크
export function getSpecialTimeMessage() {
  const now = new Date();
  const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
  return MOKA_DIALOGUES.specialTime[timeStr] || null;
}

// 랜덤 대사 선택
export function getRandomDialogue(category, subCategory = null) {
  let dialogues;
  
  if (subCategory) {
    dialogues = MOKA_DIALOGUES[category]?.[subCategory];
  } else {
    dialogues = MOKA_DIALOGUES[category];
  }
  
  if (!dialogues || !Array.isArray(dialogues)) return '';
  
  return dialogues[Math.floor(Math.random() * dialogues.length)];
}

// 인사말 가져오기
export function getGreeting() {
  const timeOfDay = getTimeOfDay();
  const special = getSpecialTimeMessage();
  
  if (special) return special;
  
  return getRandomDialogue('greeting', timeOfDay);
}

// 카드 결과 반응 가져오기
export function getCardReaction(rarity) {
  const revealed = getRandomDialogue('cardRevealed', rarity);
  const comment = getRandomDialogue('cardComment', rarity);
  
  return { revealed, comment };
}